# Pavillion Environment Variable Mappings
#
# This file maps environment variables to configuration paths.
# The 'config' npm package automatically applies these overrides.
#
# How it works:
#   1. The config package loads YAML configuration files in order
#   2. Environment variables listed here override corresponding config values
#   3. This allows secrets to be passed via environment without editing config files
#
# Usage:
#   Set environment variables in your .env file or docker-compose.yml:
#     DB_PASSWORD=your_secure_password
#     S3_ACCESS_KEY=AKIAIOSFODNN7EXAMPLE
#
# For Docker Compose, these are automatically loaded from .env file
# For other deployments, set them in your environment before starting the app
#

# Instance domain configuration
# Used in federation testing to set unique domain per instance
domain: LOCAL_DOMAIN

# Database configuration overrides
database:
  dialect: DB_DIALECT
  host: DB_HOST
  port: DB_PORT
  database: DB_NAME
  username: DB_USER
  password: DB_PASSWORD

# JWT authentication configuration overrides
# JWT_SECRET is required in production - generate using: openssl rand -base64 32
jwt:
  secret: JWT_SECRET

# Session configuration overrides
# SESSION_SECRET is required in production - generate using: openssl rand -base64 32
session:
  secret: SESSION_SECRET

# Moderation configuration overrides
# EMAIL_HASH_SECRET is required in production - generate using: openssl rand -base64 32
moderation:
  emailHashSecret: EMAIL_HASH_SECRET

# Media storage configuration overrides
# Used for S3-compatible storage (AWS S3, DigitalOcean Spaces, MinIO, etc.)
media:
  storage:
    bucket: S3_BUCKET
    region: S3_REGION
    endpoint: S3_ENDPOINT
    credentials:
      accessKeyId: S3_ACCESS_KEY
      secretAccessKey: S3_SECRET_KEY

# SMTP configuration overrides
# SMTP_HOST, SMTP_PORT, SMTP_USER, SMTP_PASSWORD: SMTP server credentials
# MAIL_TRANSPORT: Override transport type (smtp, development, testing, mailpit, sendmail)
# MAIL_FROM: Override sender email address
mail:
  transport: MAIL_TRANSPORT
  from: MAIL_FROM
  settings:
    host: SMTP_HOST
    port: SMTP_PORT
    user: SMTP_USER
    pass: SMTP_PASSWORD
    secure: SMTP_SECURE

# Federation testing configuration overrides
# SKIP_SIGNATURES=true disables HTTP signature verification for local testing
federation:
  skipSignatures: SKIP_SIGNATURES
