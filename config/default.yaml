database:
  dialect: sqlite
  storage: ':memory:'
  logging: false
host:
  port: 3000
domain: 'localhost:3000' # Domain for ActivityPub actor URIs
mail:
  transport: test
  from: noreply@example.com
  settings: {}
media:
  maxFileSize: 10485760  # 10MB in bytes
  allowedTypes:
    - 'image/png'
    - 'image/jpeg'
    - 'image/heic'
  allowedExtensions:
    - '.png'
    - '.jpg'
    - '.jpeg'
    - '.heic'
  storage:
    driver: 'local'
    basePath: '/storage/media'

# JWT configuration for authentication tokens
# In production, JWT_SECRET must be set via environment variable
jwt:
  secret: 'development-only-jwt-secret-do-not-use-in-production'
  expiresIn: '7d'

# Session configuration
# In production, SESSION_SECRET must be set via environment variable
session:
  secret: 'development-only-session-secret-do-not-use-in-production'

# Rate limiting configuration
rateLimit:
  enabled: true
  store: memory
  passwordReset:
    byIp:
      windowMs: 900000  # 15 minutes in milliseconds
      max: 5  # 5 requests per IP per 15 minutes
    byEmail:
      windowMs: 3600000  # 1 hour in milliseconds
      max: 3  # 3 requests per email per hour
  login:
    byIp:
      windowMs: 900000  # 15 minutes in milliseconds
      max: 10  # 10 requests per IP per 15 minutes
    byEmail:
      windowMs: 3600000  # 1 hour in milliseconds
      max: 5  # 5 requests per email per hour

# Housekeeping configuration for automated server maintenance
housekeeping:
  enabled: true
  backup:
    schedule: '0 2 * * *'  # Daily at 2 AM
    retention:
      daily: 7
      weekly: 4
      monthly: 6
    path: '/backups'
    # Optional S3 upload configuration (future enhancement)
    # s3:
    #   enabled: false
    #   bucket: 'my-backups'
    #   endpoint: 'https://s3.amazonaws.com'
    #   region: 'us-east-1'
    #   accessKeyId: ''
    #   secretAccessKey: ''
  monitoring:
    disk:
      enabled: true
      warning_threshold: 80
      critical_threshold: 90
      check_interval: '0 * * * *'  # Hourly
